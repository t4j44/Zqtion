# ğŸ“ Project Architecture

## Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         App Layout (layout.tsx)         â”‚
â”‚   âœ“ Inter Font                          â”‚
â”‚   âœ“ Metadata & Viewport                 â”‚
â”‚   âœ“ Global CSS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Page (page.tsx)                â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SmoothScroll Wrapper            â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  ScrollIndicator            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Progress Bar (top)      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ Scroll Hint (bottom)    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Scrollytelling Section     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  ScrollyCanvas        â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Preload 117 frames â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Canvas rendering   â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Scroll â†’ Frame     â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  ScrollOverlay        â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  (z-index: 10)        â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Hero (0-25%)      â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Left Text (25-50%)â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Right Text (50-75%)â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ CTA (75-100%)     â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  ProjectsGrid               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Section Header          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Project Card 1          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Project Card 2          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Project Card 3          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Project Card 4          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ CTA Button              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Footer                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Brand Section           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Quick Links             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Social Links            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ Copyright               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚
â”‚   Scroll     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Framer Motion       â”‚
â”‚  useScroll()         â”‚
â”‚  scrollYProgress     â”‚
â”‚  (0 â†’ 1)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                             â”‚
       â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ScrollyCanvasâ”‚           â”‚  ScrollOverlay  â”‚
â”‚              â”‚           â”‚                 â”‚
â”‚ progress *   â”‚           â”‚ useTransform()  â”‚
â”‚ frameCount   â”‚           â”‚ - opacity       â”‚
â”‚ = frameIndex â”‚           â”‚ - y position    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Canvas 2D   â”‚
â”‚  Context     â”‚
â”‚              â”‚
â”‚ drawImage()  â”‚
â”‚ images[i]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure

```
zqtion-portfolio/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              â† Root layout with metadata
â”‚   â”œâ”€â”€ page.tsx                â† Main page composition
â”‚   â”œâ”€â”€ globals.css             â† Global styles, scrollbar, glass effects
â”‚   â”œâ”€â”€ robots.ts               â† SEO robots.txt
â”‚   â””â”€â”€ sitemap.ts              â† SEO sitemap
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ScrollyCanvas.tsx       â† ğŸ¬ Canvas renderer (117 frames)
â”‚   â”œâ”€â”€ ScrollOverlay.tsx       â† ğŸ­ Parallax text layers
â”‚   â”œâ”€â”€ ProjectsGrid.tsx        â† ğŸ’ Featured projects with cards
â”‚   â”œâ”€â”€ ScrollIndicator.tsx     â† ğŸ“Š Progress bar & scroll hint
â”‚   â”œâ”€â”€ SmoothScroll.tsx        â† ğŸŒŠ Smooth scroll wrapper
â”‚   â””â”€â”€ Footer.tsx              â† ğŸ‘£ Enhanced footer
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ canvas-utils.ts         â† Canvas helper functions
â”‚   â”œâ”€â”€ performance.ts          â† Performance monitoring
â”‚   â””â”€â”€ supabase/
â”‚       â”œâ”€â”€ client.ts           â† Client-side Supabase
â”‚       â””â”€â”€ server.ts           â† Server-side Supabase
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ sequence/
â”‚       â”œâ”€â”€ frame_000_delay-0.067s.webp
â”‚       â”œâ”€â”€ frame_001_delay-0.066s.webp
â”‚       â””â”€â”€ ... (117 frames total)
â”‚
â”œâ”€â”€ middleware.ts               â† Rate limiting & security
â”œâ”€â”€ next.config.js              â† Next.js + Supabase config
â”œâ”€â”€ vercel.json                 â† Vercel deployment config
â”œâ”€â”€ .env.example                â† Environment variables template
â”œâ”€â”€ package.json                â† Dependencies
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ README_SCROLLYTELLING.md
    â”œâ”€â”€ QUICKSTART.md
    â”œâ”€â”€ DEPLOYMENT.md
    â””â”€â”€ PROJECT_SUMMARY.md
```

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Component State                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ScrollyCanvas:
â”œâ”€ images: HTMLImageElement[]     â† Preloaded frames
â”œâ”€ imagesLoaded: boolean          â† Loading complete?
â”œâ”€ loadProgress: number (0-100)   â† Loading progress %
â””â”€ canvasRef: RefObject           â† Canvas element

ScrollOverlay:
â”œâ”€ section1Opacity: MotionValue   â† Fade animations
â”œâ”€ section1Y: MotionValue         â† Position animations
â”œâ”€ section2Opacity: MotionValue
â”œâ”€ section2Y: MotionValue
â””â”€ ... (per section)

ProjectsGrid:
â””â”€ projects: Array<Project>       â† Static project data

ScrollIndicator:
â”œâ”€ scrollYProgress: MotionValue   â† Global scroll
â””â”€ width: MotionValue             â† Progress bar width
```

## Animation Timeline

```
Scroll Position (vh):
0vh     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Hero Intro                 â”‚
        â”‚  "ZQTION"                   â”‚ Section 1
        â”‚  opacity: 1 â†’ 0             â”‚ (0-25%)
125vh   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  Philosophy                 â”‚
        â”‚  "I build digital..."       â”‚ Section 2
        â”‚  opacity: 0 â†’ 1 â†’ 0         â”‚ (25-50%)
250vh   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  Approach                   â”‚
        â”‚  "Bridging design..."       â”‚ Section 3
        â”‚  opacity: 0 â†’ 1 â†’ 0         â”‚ (50-75%)
375vh   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  Call to Action             â”‚
        â”‚  "Selected Work"            â”‚ Section 4
        â”‚  opacity: 0 â†’ 1             â”‚ (75-100%)
500vh   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Projects Grid              â”‚ Regular scroll
        â”‚  (static, not animated)     â”‚ (auto height)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Footer                     â”‚ Regular scroll
        â”‚  (static)                   â”‚ (auto height)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Image Preloading Strategy              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Component Mount
   â”œâ”€ Create 117 Image objects
   â”œâ”€ Set src for each frame
   â””â”€ Listen for onload events

2. Loading Progress
   â”œâ”€ Track loaded count
   â”œâ”€ Update progress bar (0-100%)
   â””â”€ Set imagesLoaded when complete

3. Canvas Rendering
   â”œâ”€ Only render when loaded
   â”œâ”€ Use requestAnimationFrame
   â””â”€ Handle device pixel ratio

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Scroll Performance                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ“ Use refs to avoid re-renders
âœ“ Canvas rendering (not DOM)
âœ“ Framer Motion hardware acceleration
âœ“ Debounced resize handlers
âœ“ Transform-based animations (GPU)
```

## Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel     â”‚
â”‚              â”‚
â”‚  â”œâ”€ Deploy   â”‚
â”‚  â”œâ”€ Edge     â”‚
â”‚  â””â”€ Analyticsâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js 14  â”‚â—„â”€â”€â”€â”€â”€â”¤   Supabase   â”‚
â”‚  App Router  â”‚      â”‚              â”‚
â”‚              â”‚      â”‚  â”œâ”€ Database â”‚
â”‚  â”œâ”€ SSR      â”‚      â”‚  â”œâ”€ Auth     â”‚
â”‚  â”œâ”€ ISR      â”‚      â”‚  â”œâ”€ Storage  â”‚
â”‚  â””â”€ API      â”‚      â”‚  â””â”€ Edge Fn  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GitHub    â”‚
â”‚   Push      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel     â”‚
â”‚   Webhook    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Install dependencies
       â”œâ”€ Build Next.js
       â”œâ”€ Optimize assets
       â””â”€ Deploy to Edge
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Production  â”‚
â”‚  URL         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Key Technologies:**
- Next.js 14 (App Router)
- Framer Motion (Animations)
- HTML5 Canvas (Rendering)
- Tailwind CSS (Styling)
- TypeScript (Type Safety)
- Vercel (Hosting)
- Supabase (Backend)

**Performance Targets:**
- First Contentful Paint: < 1s
- Time to Interactive: < 2s
- Lighthouse Score: 90+
- 60 FPS scrolling

**Browser Support:**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
